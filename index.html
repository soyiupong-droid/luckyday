odeHtml
<!DOCTYPE html><html lang="zh-Hant"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ“‡æ—¥å°å¹«æ‰‹ (å«28å®¿)</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background: #f0f2f5; padding: 15px; }
        .container { max-width: 600px; margin: 0 auto; }
        
        /* ç¯©é¸å€å¡Š */
        .filter-section { background: white; padding: 15px; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .filter-title { font-weight: bold; margin: 10px 0 5px; color: #333; font-size: 0.95em; }
        .filter-group-label { font-size: 0.8em; color: #888; margin-top: 5px; }
        
        .btn-group { display: flex; flex-wrap: wrap; gap: 4px; }
        
        button {
            padding: 6px 10px; border: 1px solid #e0e0e0; border-radius: 6px; background: #fff; cursor: pointer; font-size: 13px;
            transition: all 0.2s; flex-grow: 1; text-align: center;
        }
        button.active { background: #d32f2f; color: white; border-color: #d32f2f; font-weight: bold; }
        
        /* 28å®¿å°ˆç”¨æ¨£å¼ - ç¨å¾®å°ä¸€é» */
        .star-btn { flex-grow: 0; min-width: 30px; }

        /* çµæœåˆ—è¡¨ */
        .result-info { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .card { background: white; padding: 12px 15px; border-radius: 8px; margin-bottom: 10px; border-left: 5px solid #ddd; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 1px 2px rgba(0,0,0,0.05); }
        
        /* å‰å‡¶é…è‰²é‚è¼¯ */
        .card.good { border-left-color: #e53935; } 
        .card.neutral { border-left-color: #fbc02d; }
        .card.bad { border-left-color: #424242; }

        .date-row { font-size: 1.1em; font-weight: bold; color: #000; }
        .info-row { font-size: 0.9em; color: #666; margin-top: 3px; }
        .tag { padding: 2px 6px; border-radius: 4px; font-size: 0.85em; margin-left: 5px; display: inline-block;}
        .tag-officer { background: #eee; font-weight: bold; }
        .tag-star { background: #e3f2fd; color: #1565c0; }

        .reset-btn { width: 100%; margin-top: 15px; padding: 10px; background: #455a64; color: white; border: none; font-size: 14px; }
    </style></head><body>
<div class="container">
    <h2 style="text-align:center;">ğŸ“… æ“‡æ—¥ç¯©é¸å™¨</h2>
    
    <div class="filter-section">
        <!-- å¤©å¹² -->
        <div class="filter-title">å¤©å¹² (æ—¥):</div>
        <div class="btn-group" id="stems"></div>
        
        <!-- åœ°æ”¯ -->
        <div class="filter-title">åœ°æ”¯ (æ—¥):</div>
        <div class="btn-group" id="branches"></div>

        <!-- 12å»ºæ˜Ÿ -->
        <div class="filter-title">åäºŒå»ºæ˜Ÿ:</div>
        <div class="btn-group" id="officers"></div>

        <!-- 28å®¿ -->
        <div class="filter-title">äºŒåå…«å®¿ (æŒ‰æ–¹ä½åˆ†):</div>
        <div class="filter-group-label">æ±æ–¹é’é¾</div>
        <div class="btn-group" id="stars-east"></div>
        <div class="filter-group-label">åŒ—æ–¹ç„æ­¦</div>
        <div class="btn-group" id="stars-north"></div>
        <div class="filter-group-label">è¥¿æ–¹ç™½è™</div>
        <div class="btn-group" id="stars-west"></div>
        <div class="filter-group-label">å—æ–¹æœ±é›€</div>
        <div class="btn-group" id="stars-south"></div>

        <button class="reset-btn" onclick="resetFilters()">ğŸ”„ é‡ç½®æ‰€æœ‰æ¢ä»¶</button>
    </div>

    <div class="result-info">
        <span id="count" style="font-weight:bold; color:#d32f2f;">è¼‰å…¥ä¸­...</span>
    </div>
    <div id="results"></div></div>
<script>
    // ==========================================
    // 1. è³‡æ–™å€ ( DATA AREA )
    // è«‹æŠŠä½ çš„è³‡æ–™ä¾ç…§æ­¤æ ¼å¼è²¼åœ¨ä¸‹æ–¹
    // ==========================================
    const almanacData = [
        // ç¯„ä¾‹è³‡æ–™ (ä½ éœ€è¦ç”¨Excelç”Ÿæˆå®Œæ•´è³‡æ–™å–ä»£é€™è£¡)
        { date: "2026/1/1", month: "åºšå­", day: "è¾›å·³", officer: "å»º", star: "äº•å®¿" },
        { date: "2026/1/2", month: "åºšå­", day: "å£¬åˆ", officer: "é™¤", star: "é¬¼å®¿" },
        { date: "2026/1/3", month: "åºšå­", day: "ç™¸æœª", officer: "æ»¿", star: "æŸ³å®¿" },
        { date: "2026/1/4", month: "åºšå­", day: "ç”²ç”³", officer: "å¹³", star: "æ˜Ÿå®¿" },
        { date: "2026/1/5", month: "åºšå­", day: "ä¹™é…‰", officer: "å®š", star: "å¼µå®¿" },
        { date: "2026/1/6", month: "åºšå­", day: "ä¸™æˆŒ", officer: "åŸ·", star: "ç¿¼å®¿" },
        { date: "2026/1/7", month: "åºšå­", day: "ä¸äº¥", officer: "ç ´", star: "è»«å®¿" },
        { date: "2026/1/8", month: "è¾›ä¸‘", day: "æˆŠå­", officer: "å±", star: "è§’å®¿" },
        { date: "2026/1/23", month: "è¾›ä¸‘", day: "ç™¸å¯", officer: "æˆ", star: "å©å®¿" },
    ];

    // ==========================================
    // 2. è¨­å®šé¸é …
    // ==========================================
    const stems = ["ç”²", "ä¹™", "ä¸™", "ä¸", "æˆŠ", "å·±", "åºš", "è¾›", "å£¬", "ç™¸"];
    const branches = ["å­", "ä¸‘", "å¯…", "å¯", "è¾°", "å·³", "åˆ", "æœª", "ç”³", "é…‰", "æˆŒ", "äº¥"];
    const officers = ["å»º", "é™¤", "æ»¿", "å¹³", "å®š", "åŸ·", "ç ´", "å±", "æˆ", "æ”¶", "é–‹", "é–‰"];
    
    // 28å®¿åˆ†é¡
    const starsEast = ["è§’", "äº¢", "æ°", "æˆ¿", "å¿ƒ", "å°¾", "ç®•"];
    const starsNorth = ["æ–—", "ç‰›", "å¥³", "è™›", "å±", "å®¤", "å£"];
    const starsWest = ["å¥", "å©", "èƒƒ", "æ˜´", "ç•¢", "è§œ", "åƒ"];
    const starsSouth = ["äº•", "é¬¼", "æŸ³", "æ˜Ÿ", "å¼µ", "ç¿¼", "è»«"];

    let activeFilters = { stem: null, branch: null, officer: null, star: null };

    // åˆå§‹åŒ–
    function init() {
        createButtons("stems", stems, "stem");
        createButtons("branches", branches, "branch");
        createButtons("officers", officers, "officer");
        
        // 28å®¿åˆ†é–‹å»ºç«‹
        createButtons("stars-east", starsEast, "star", true);
        createButtons("stars-north", starsNorth, "star", true);
        createButtons("stars-west", starsWest, "star", true);
        createButtons("stars-south", starsSouth, "star", true);

        renderResults(almanacData);
    }

    function createButtons(elementId, items, filterType, isStar = false) {
        const container = document.getElementById(elementId);
        items.forEach(item => {
            const btn = document.createElement("button");
            btn.innerText = item;
            if(isStar) btn.classList.add("star-btn");
            btn.onclick = () => toggleFilter(btn, filterType, item, container, isStar);
            container.appendChild(btn);
        });
    }

    // è™•ç†é»æ“Š (åŒ…å« 28å®¿ è·¨å€å¡Šäº’æ–¥é‚è¼¯)
    function toggleFilter(btn, type, value, container, isStar) {
        const isActive = btn.classList.contains("active");
        
        if (isStar) {
            // å¦‚æœé»çš„æ˜¯æ˜Ÿå®¿ï¼Œè¦æ¸…é™¤æ‰€æœ‰æ˜Ÿå®¿å€å¡Š(æ±å—è¥¿åŒ—)çš„é¸å–ç‹€æ…‹
            document.querySelectorAll(".star-btn").forEach(b => b.classList.remove("active"));
        } else {
            // å…¶ä»–é¡åˆ¥åªæ¸…é™¤è‡ªå·±å€å¡Š
            Array.from(container.children).forEach(b => b.classList.remove("active"));
        }
        
        if (!isActive) {
            btn.classList.add("active");
            activeFilters[type] = value;
        } else {
            activeFilters[type] = null;
        }
        
        filterData();
    }

    function resetFilters() {
        activeFilters = { stem: null, branch: null, officer: null, star: null };
        document.querySelectorAll("button").forEach(b => b.classList.remove("active"));
        filterData();
    }

    function filterData() {
        const results = almanacData.filter(item => {
            const matchStem = activeFilters.stem ? item.day.includes(activeFilters.stem) : true;
            const matchBranch = activeFilters.branch ? item.day.includes(activeFilters.branch) : true;
            const matchOfficer = activeFilters.officer ? item.officer === activeFilters.officer : true;
            // 28å®¿åªè¦å­—ä¸²è£¡åŒ…å«è©²å­—å³å¯ (ä¾‹å¦‚è³‡æ–™æ˜¯"äº•æœ¨çŠ´"ï¼Œé¸"äº•"è¦èƒ½é¸åˆ°)
            const matchStar = activeFilters.star ? item.star.includes(activeFilters.star) : true;
            
            return matchStem && matchBranch && matchOfficer && matchStar;
        });
        renderResults(results);
    }

    function renderResults(data) {
        const container = document.getElementById("results");
        const countDiv = document.getElementById("count");
        container.innerHTML = "";
        countDiv.innerText = `æ‰¾åˆ° ${data.length} ç­†è³‡æ–™`;

        if (data.length === 0) {
            container.innerHTML = "<div style='text-align:center; color:#999; padding:20px;'>æ²’æœ‰ç¬¦åˆçš„æ—¥æœŸ</div>";
            return;
        }

        data.forEach(item => {
            // ç°¡å–®å‰å‡¶é…è‰²
            let statusClass = "bad";
            if (["å»º","æ»¿","æˆ","é–‹"].includes(item.officer)) statusClass = "good";
            else if (["å¹³","å®š"].includes(item.officer)) statusClass = "neutral";
            
            const card = document.createElement("div");
            card.className = `card ${statusClass}`;
            card.innerHTML = `
                <div>
                    <div class="date-row">${item.date}</div>
                    <div class="info-row">
                        ${item.month}æœˆ | ${item.day}æ—¥
                    </div>
                </div>
                <div style="text-align:right;">
                    <span class="tag tag-officer">${item.officer}</span>
                    <span class="tag tag-star">${item.star}</span>
                </div>
            `;
            container.appendChild(card);
        });
    }

    init();</script>
</body></html>
